<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Watch and share videos">
  <title>Loading...</title>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
</head>
<body>
  <header>
    <div class="logo-container">
      <a href="/" class="logo-link">
        <div class="logo-box"></div>
        <h1 id="app-title">Loading...</h1>
      </a>
    </div>
    <div class="back-link">
      <a href="/">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
        </svg>
        Back to Videos
      </a>
    </div>
  </header>

  <main class="player-page">
    <div class="container">
      
      <div class="video-container">
        <!-- Plyr will be initialized on this video tag -->
        <video id="video-player" playsinline controls>
          <!-- Source will be added dynamically by player.js -->
        </video>
      </div>
      
      <div class="video-info">
        <h2 id="video-title"></h2>
        <div class="video-meta">
          <span>Added on <span id="video-date"></span></span>
          <span>Duration: <span id="video-duration"></span></span>
        </div>
      <div class="video-actions">
        <button id="favorite-btn" class="favorite-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="favorite-icon-outline">
            <path d="M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73z"/>
          </svg>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16" class="favorite-icon-filled">
            <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
          </svg>
          <span class="favorite-text">Add to Favorites</span>
        </button>
        <div class="share-container">
          <button id="share-toggle-btn" class="btn share-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
            </svg>
            Share Link
          </button>
          <div id="share-popover" class="share-popover">
            <button id="copy-base-link-btn" class="popover-btn">Copy Link</button>
            <button id="copy-timestamp-link-btn" class="popover-btn">Copy Link at Current Time</button>
            <span id="popover-current-time" class="popover-time-display"></span>
          </div>
        </div>
      </div>
      </div>
    </div>
  </main>
  
  <footer>
    <div class="container">
      <p id="footer-text">&copy; Loading... - A simple VOD sharing system</p>
    </div>
  </footer>

  <script src="/js/utils.js"></script>
  <script src="/js/video-preloader.js"></script>
  <script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>
  <script src="/js/player.js"></script>
</body>
</html>
